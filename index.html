<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Eldritch Soundboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700&family=Uncial+Antiqua&display=swap" rel="stylesheet">
    <style>
        /* Custom styles for the Eldritch Horror theme */
        body {
            font-family: 'Cinzel', serif;
            background-color: #0a080f;
            background-image: 
                radial-gradient(at 90% 10%, hsla(285, 88%, 15%, 0.5) 0px, transparent 50%),
                radial-gradient(at 10% 90%, hsla(180, 95%, 10%, 0.6) 0px, transparent 50%),
                radial-gradient(at 50% 50%, hsla(220, 50%, 15%, 0.3) 0px, transparent 50%);
            color: #c5c5d5;
            overscroll-behavior: none;
            overflow-x: hidden; /* Prevents horizontal scrollbars */
        }

        /* Decorative background images */
        .eldritch-art {
            position: fixed;
            z-index: 0;
            opacity: 0.1;
            pointer-events: none; /* Make them non-interactive */
            filter: grayscale(80%) brightness(0.5);
        }

        #art-top-left {
            top: -50px;
            left: -80px;
            width: 300px;
            transform: rotate(-15deg);
        }

        #art-bottom-right {
            bottom: -100px;
            right: -120px;
            width: 400px;
            transform: rotate(15deg);
        }

        /* Main app container sits above the art */
        #app {
            position: relative;
            z-index: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            min-height: 100vh;
            padding: 0.25rem;
        }

        .sound-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr); /* 4 columns for mobile */
            gap: 0.75rem 0.375rem;
            padding: 0.25rem;
            max-width: 480px;
            width: 100%;
            margin: 0 auto;
        }

        /* This rule prevents grid items from expanding based on their content */
        .sound-grid > div {
            min-width: 0;
        }

        .sound-btn {
            aspect-ratio: 1 / 1;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 0.375rem; 
            cursor: pointer;
            user-select: none;
            transition: all 0.2s ease-in-out;
            background: #1a1625;
            border: 1px solid #3a324f;
            box-shadow: inset 0 0 8px #000, 0 1px 4px #000;
        }
        
        .sound-btn svg {
            width: 60%;
            height: 60%;
            stroke: #8a7f9d;
            stroke-width: 1.5;
            fill: none;
            transition: all 0.2s ease-in-out;
            pointer-events: none; /* Prevents SVG from intercepting click */
        }

        .sound-btn:hover {
            background: #2a243a;
            border-color: #7a6d91;
        }
        .sound-btn:hover svg {
            stroke: #d9cff0;
        }

        .sound-btn:active, .sound-btn.playing {
            transform: scale(0.95);
            background: #5c2a9d;
            border-color: #c59fff;
            box-shadow: inset 0 0 12px #2a0058, 0 0 15px #a855f7;
        }
        
        .sound-btn:active svg, .sound-btn.playing svg {
            stroke: #fff;
            filter: drop-shadow(0 0 5px #fff);
        }

        .sound-title {
            font-family: 'Uncial Antiqua', cursive;
            font-size: 0.45rem;
            margin-top: 0.25rem; 
            color: #8a7f9d;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            width: 100%;
            user-select: none;
        }
        
        #header-logo img {
            width: 150px; /* Maximized logo size */
            height: auto;
            filter: drop-shadow(0 0 10px #a855f7);
        }
        
        #sound-name-display {
            font-family: 'Uncial Antiqua', cursive;
            min-height: 1.75rem;
            font-size: 1.1rem;
            color: #c59fff;
            text-shadow: 0 0 8px #a855f7;
        }
    </style>
</head>
<body class="antialiased">

    <!-- Decorative Images -->
    <img id="art-top-left" class="eldritch-art" src="https://images.unsplash.com/photo-1598351049496-b8429e2b83c7?auto=format&fit=crop&w=500" alt="Eldritch decoration">
    <img id="art-bottom-right" class="eldritch-art" src="https://images.unsplash.com/photo-1605303429193-a68a9c436519?auto=format&fit=crop&w=500" alt="Eldritch decoration">

    <!-- Main Container -->
    <div id="app">

        <!-- Header -->
        <header class="text-center p-2 flex flex-col items-center">
            <div id="header-logo">
                <img src="https://cf.geekdo-images.com/ULWhkzPnFQWbTEgatQkBJQ__opengraph/img/m5Tuj3fp99oDoN178v0krVmH3iM=/fit-in/1200x630/filters:strip_icc()/pic2500312.png" alt="Eldritch Horror Logo">
            </div>
        </header>

        <!-- Soundboard Grid -->
        <main id="sound-grid" class="sound-grid">
            <!-- Buttons and titles will be populated by JS -->
        </main>
        
        <!-- Sound Name Display -->
        <footer class="text-center p-1">
            <p class="text-xs text-slate-500">RITUAL FOCUS</p>
            <p id="sound-name-display" class="mt-1">&nbsp;</p>
        </footer>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const soundGrid = document.getElementById('sound-grid');
            const soundNameDisplay = document.getElementById('sound-name-display');

            // --- GLOBAL AUDIO STATE ---
            let currentAudio = null;
            let currentPlayingButton = null;

            // --- SOUND DATA ---
            const sounds = [
                { title: 'Dark Deal', file: '1. Dark Transaction.mp3', icon: `<svg viewBox="0 0 24 24"><circle cx="12" cy="14" r="6"></circle><path d="M15 6l-3-4-3 4h6z"></path><path d="M9 6l3 4 3-4"></path></svg>` },
                { title: 'Roaring Fire', file: '2. Roaring Fire.mp3', icon: `<svg viewBox="0 0 24 24"><path d="M12 22V10m0-4V2m-4 8H4l4-4m8 4h4l-4-4"></path></svg>` },
                { title: 'Fists of Fury', file: '3. Fists of Fury.mp3', icon: `<svg viewBox="0 0 24 24"><path d="M14.5 9.5a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-4z"></path><path d="M4 14.5a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-4z"></path><path d="M15 14h-2l-3 3h-2l-3-3H3"></path></svg>` },
                { title: 'Arcane Surge', file: '4. Arcane Surge.mp3', icon: `<svg viewBox="0 0 24 24"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path><circle cx="12" cy="12" r="2"></circle></svg>` },
                { title: 'Glorious Win', file: '5. Glorious Triumph.mp3', icon: `<svg viewBox="0 0 24 24"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87L18.18 22 12 18.77 5.82 22 7 14.14l-5-4.87 6.91-1.01L12 2z"></path></svg>` },
                { title: 'Cursed Fumble', file: '6. Cursed Fumble.mp3', icon: `<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="8"></circle><path d="M9.5 9.5l5 5m0-5l-5 5"></path></svg>` },
                { title: 'Quiet Entry', file: '7. Quite Entry.mp3', icon: `<svg viewBox="0 0 24 24"><path d="M2 12s4-8 10-8 10 8 10 8-4 8-10 8-10-8-10-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>` },
                { title: 'Dread Impact', file: '8. Dread Impact.mp3', icon: `<svg viewBox="0 0 24 24"><path d="M2 12h20M12 2v20"></path><path d="M4 4l16 16M4 20L20 4"></path></svg>` },
                { title: 'Eldritch Gain', file: '9. Arcane Acquisition.mp3', icon: `<svg viewBox="0 0 24 24"><path d="M12 2l-4 4h8l-4-4z"></path><path d="M12 22l-4-4h8l-4 4z"></path><path d="M2 12l4-4v8l-4-4z"></path><path d="M22 12l-4-4v8l4-4z"></path><circle cx="12" cy="12" r="2"></circle></svg>` },
                { title: 'Opening Rift', file: '10. Opening Rift.mp3', icon: `<svg viewBox="0 0 24 24"><path d="M12 2c-5.523 0-10 4.477-10 10s4.477 10 10 10S22 17.523 22 12 17.523 2 12 2z"></path><path d="M4.93 4.93l4.24 4.24"></path><path d="M14.83 14.83l4.24 4.24"></path></svg>` },
                { title: 'The Reckoning', file: '11. The Reckoning.mp3', icon: `<svg viewBox="0 0 24 24"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"></path></svg>` },
                { title: 'Mystery Deepens', file: '12. Mystery Deepens.mp3', icon: `<svg viewBox="0 0 24 24"><circle cx="10" cy="10" r="7"></circle><path d="M15 15l6 6"></path></svg>` },
                { title: 'Ritual Drum', file: '13. Ritual Drum.mp3', icon: `<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="8"></circle><path d="M8 12h8"></path></svg>` },
                { title: 'Wailing Deep', file: '14. Forbidden Waters.mp3', icon: `<svg viewBox="0 0 24 24"><path d="M12 2C12 2 6 8 6 12a6 6 0 0 0 12 0c0-4-6-10-6-10z"></path><path d="M4 14h16"></path></svg>` },
                { title: 'Shadowed Wilds', file: '15. Shadowed Wilds.mp3', icon: `<svg viewBox="0 0 24 24"><path d="M4 12h2l2-4 4 8 4-8 2 4h2"></path></svg>` },
                { title: 'Triumphant Ovation', file: '16. Triumphant Ovation.mp3', icon: `<svg viewBox="0 0 24 24"><path d="M15 18s-2-2-4-2-4 2-4 2"></path><path d="M15 14s-2-2-4-2-4 2-4 2"></path><path d="M15 10s-2-2-4-2-4 2-4 2"></path></svg>` },
                { title: 'Eldritch Void', file: '17. Eldritch Void.mp3', icon: `<svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"></circle><circle cx="12" cy="12" r="3"></circle></svg>` },
                { title: 'Cthonian Chant', file: '18. Cthonian Chant.mp3', icon: `<svg viewBox="0 0 24 24"><path d="M8 12h8M8 16h8M8 8h8"></path><path d="M5 4v16"></path><path d="M19 4v16"></path></svg>` },
                { title: 'Insatiable Growl', file: '19. Insatiable Growl.mp3', icon: `<svg viewBox="0 0 24 24"><path d="M5 8l4 8h6l4-8H5z"></path><path d="M5 16l4-8h6l4 8H5z"></path></svg>` },
                { title: 'Ancient Bell', file: '20. Ancient Bell.mp3', icon: `<svg viewBox="0 0 24 24"><path d="M12 2a5 5 0 0 1 5 5v6a5 5 0 0 1-10 0v-6a5 5 0 0 1 5-5z"></path><path d="M8 15h8"></path><path d="M12 15v2"></path></svg>` },
            ];
            
            // Create items (button + title) and add them to the grid
            sounds.forEach(sound => {
                const itemContainer = document.createElement('div');
                itemContainer.className = 'flex flex-col items-center justify-start';

                const button = document.createElement('button');
                button.className = 'sound-btn';
                button.innerHTML = sound.icon;
                button.dataset.soundFile = sound.file;
                button.dataset.soundTitle = sound.title;
                
                const title = document.createElement('p');
                title.className = 'sound-title';
                title.textContent = sound.title;

                itemContainer.appendChild(button);
                itemContainer.appendChild(title);
                soundGrid.appendChild(itemContainer);
            });

            // --- AUDIO PLAYBACK LOGIC ---
            function playSound(button) {
                const filePath = button.dataset.soundFile;
                
                // Stop any currently playing audio
                stopSound();

                // Create and play new audio
                currentAudio = new Audio(filePath);
                currentAudio.play().catch(error => console.error("Error playing sound:", error));
                currentPlayingButton = button;
                button.classList.add('playing');
                soundNameDisplay.textContent = button.dataset.soundTitle.toUpperCase();

                // Listen for when the audio finishes
                currentAudio.addEventListener('ended', stopSound);
            }

            function stopSound() {
                if (currentAudio) {
                    currentAudio.pause();
                    currentAudio.removeEventListener('ended', stopSound);
                    currentAudio = null;
                }
                if (currentPlayingButton) {
                    currentPlayingButton.classList.remove('playing');
                    currentPlayingButton = null;
                }
                soundNameDisplay.textContent = '\u00A0'; // Non-breaking space
            }

            // Event listener for all buttons
            soundGrid.addEventListener('click', (e) => {
                const button = e.target.closest('.sound-btn');
                if (!button) return;

                // If the clicked button is already playing, stop it.
                if (button === currentPlayingButton) {
                    stopSound();
                } else {
                    // Otherwise, play the new sound.
                    playSound(button);
                }
            });
        });
    </script>
</body>
</html>
